
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Coords-NSGA2坐标组合多目标优化框架的介绍和使用指南">
      
      
      
        <link rel="canonical" href="https://coords-nsga2.cc/api/">
      
      
        <link rel="prev" href="../usage/">
      
      
        <link rel="next" href="../examples/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>API Reference - Coords-NSGA2 Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Coords-NSGA2 Docs" class="md-header__button md-logo" aria-label="Coords-NSGA2 Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Coords-NSGA2 Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="light-blue"  aria-label=""  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="light-blue"  aria-label=""  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="./" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../zh/api/" hreflang="zh" class="md-select__link">
              简体中文
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ZXF1001/coords-nsga2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../install/" class="md-tabs__link">
        
  
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../usage/" class="md-tabs__link">
        
  
  
    
  
  Usage

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  API Reference

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../examples/" class="md-tabs__link">
        
  
  
    
  
  Examples

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Coords-NSGA2 Docs" class="md-nav__button md-logo" aria-label="Coords-NSGA2 Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Coords-NSGA2 Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ZXF1001/coords-nsga2" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Core Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Problem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample_populationpop_size" class="md-nav__link">
    <span class="md-ellipsis">
      sample_population(pop_size)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluatepopulation-n_jobs1" class="md-nav__link">
    <span class="md-ellipsis">
      evaluate(population, n_jobs=1)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coordsnsga2" class="md-nav__link">
    <span class="md-ellipsis">
      CoordsNSGA2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CoordsNSGA2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rungenerations-verbosetrue" class="md-nav__link">
    <span class="md-ellipsis">
      run(generations, verbose=True)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#savepath" class="md-nav__link">
    <span class="md-ellipsis">
      save(path)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loadpath" class="md-nav__link">
    <span class="md-ellipsis">
      load(path)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spatial-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Spatial Utilities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Spatial Utilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#region_from_pointspoints" class="md-nav__link">
    <span class="md-ellipsis">
      region_from_points(points)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#region_from_rangex_min-x_max-y_min-y_max" class="md-nav__link">
    <span class="md-ellipsis">
      region_from_range(x_min, x_max, y_min, y_max)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_points_in_polygonpolygon-n" class="md-nav__link">
    <span class="md-ellipsis">
      create_points_in_polygon(polygon, n)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#genetic-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Genetic Operators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Genetic Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coords_crossoverpopulation-prob_crs" class="md-nav__link">
    <span class="md-ellipsis">
      coords_crossover(population, prob_crs)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coords_mutationpopulation-prob_mut-region" class="md-nav__link">
    <span class="md-ellipsis">
      coords_mutation(population, prob_mut, region)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coords_selectionpopulation-values_p-tourn_size3" class="md-nav__link">
    <span class="md-ellipsis">
      coords_selection(population, values_P, tourn_size=3)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utility-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Utility Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utility Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fast_non_dominated_sortobjectives" class="md-nav__link">
    <span class="md-ellipsis">
      fast_non_dominated_sort(objectives)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crowding_distanceobjectives" class="md-nav__link">
    <span class="md-ellipsis">
      crowding_distance(objectives)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#core-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Core Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#problem" class="md-nav__link">
    <span class="md-ellipsis">
      Problem
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Problem">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sample_populationpop_size" class="md-nav__link">
    <span class="md-ellipsis">
      sample_population(pop_size)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluatepopulation-n_jobs1" class="md-nav__link">
    <span class="md-ellipsis">
      evaluate(population, n_jobs=1)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coordsnsga2" class="md-nav__link">
    <span class="md-ellipsis">
      CoordsNSGA2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CoordsNSGA2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rungenerations-verbosetrue" class="md-nav__link">
    <span class="md-ellipsis">
      run(generations, verbose=True)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#savepath" class="md-nav__link">
    <span class="md-ellipsis">
      save(path)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loadpath" class="md-nav__link">
    <span class="md-ellipsis">
      load(path)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spatial-utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Spatial Utilities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Spatial Utilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#region_from_pointspoints" class="md-nav__link">
    <span class="md-ellipsis">
      region_from_points(points)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#region_from_rangex_min-x_max-y_min-y_max" class="md-nav__link">
    <span class="md-ellipsis">
      region_from_range(x_min, x_max, y_min, y_max)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_points_in_polygonpolygon-n" class="md-nav__link">
    <span class="md-ellipsis">
      create_points_in_polygon(polygon, n)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#genetic-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Genetic Operators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Genetic Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coords_crossoverpopulation-prob_crs" class="md-nav__link">
    <span class="md-ellipsis">
      coords_crossover(population, prob_crs)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coords_mutationpopulation-prob_mut-region" class="md-nav__link">
    <span class="md-ellipsis">
      coords_mutation(population, prob_mut, region)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coords_selectionpopulation-values_p-tourn_size3" class="md-nav__link">
    <span class="md-ellipsis">
      coords_selection(population, values_P, tourn_size=3)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utility-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Utility Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utility Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fast_non_dominated_sortobjectives" class="md-nav__link">
    <span class="md-ellipsis">
      fast_non_dominated_sort(objectives)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#crowding_distanceobjectives" class="md-nav__link">
    <span class="md-ellipsis">
      crowding_distance(objectives)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="api-reference">API Reference<a class="headerlink" href="#api-reference" title="Permanent link">&para;</a></h1>
<blockquote>
<p><strong>⚠️ Important Notice</strong>: This document is AI-generated based on source-code analysis. Although we strive for accuracy, inconsistencies or issues may still exist. We are actively improving and validating all content. If you encounter any problems, please report them promptly.</p>
</blockquote>
<h2 id="core-classes">Core Classes<a class="headerlink" href="#core-classes" title="Permanent link">&para;</a></h2>
<h3 id="problem">Problem<a class="headerlink" href="#problem" title="Permanent link">&para;</a></h3>
<p>Class that defines a multi-objective optimisation problem.</p>
<p><strong>Constructor:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="n">Problem</span><span class="p">(</span><span class="n">objectives</span><span class="p">,</span> <span class="n">n_points</span><span class="p">,</span> <span class="n">region</span><span class="p">,</span> <span class="n">constraints</span><span class="o">=</span><span class="p">[],</span> <span class="n">penalty_weight</span><span class="o">=</span><span class="mf">1e6</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>objectives</code> (list[callable]): List of objective functions. Each function takes coords (n_points, 2) and returns a scalar.</li>
<li><code>n_points</code> (int or list[int]): Number of coordinate points to optimise. Can be a fixed integer (e.g., <code>10</code>) or a list <code>[min, max]</code> to allow the number of points to vary within a range during optimization.</li>
<li><code>region</code> (shapely.geometry.Polygon): Shapely polygon defining the feasible region.</li>
<li><code>constraints</code> (list, optional): List of constraint functions. Default is an empty list.</li>
<li><code>penalty_weight</code> (float, optional): Weight applied to constraint violations. Default is 1e6.</li>
</ul>
<p><strong>Methods:</strong></p>
<h4 id="sample_populationpop_size">sample_population(pop_size)<a class="headerlink" href="#sample_populationpop_size" title="Permanent link">&para;</a></h4>
<p>Generate an initial population.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>pop_size</code> (int): Population size.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>numpy.ndarray</code>: Population array with shape<code>(pop_size, n_points, 2)</code>.</li>
</ul>
<h4 id="evaluatepopulation-n_jobs1">evaluate(population, n_jobs=1)<a class="headerlink" href="#evaluatepopulation-n_jobs1" title="Permanent link">&para;</a></h4>
<p>Evaluate the objective values for all individuals in a population. Uses serial computation when n_jobs=1 and parallel computation when n_jobs≠1.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>population</code> (numpy.ndarray): Population with shape<code>(pop_size, n_points, 2)</code>.</li>
<li><code>n_jobs</code> (int, optional): Number of jobs for parallel computation. Default is 1 (serial computation). Set to -1 to use all available CPU cores, or any other value to specify the number of cores to use.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>numpy.ndarray</code>: Array of objective values with shape <code>(n_objectives, pop_size)</code>.</li>
</ul>
<blockquote>
<p><strong>Parallel Computation Notes:</strong></p>
<ul>
<li><strong>When to use parallel computation</strong>: Parallel processing is recommended for problems with computationally intensive objective functions or constraints. It's particularly effective for large populations or when each evaluation takes significant time.</li>
<li><strong>When NOT to use parallel computation</strong>: For simple optimization problems with fast objective functions, the overhead of parallel processing may reduce performance. In these cases, serial computation (n_jobs=1) is recommended.</li>
<li><strong>Example use cases for parallel computation</strong>:</li>
<li>Complex simulations in each objective function</li>
<li>Large population sizes (&gt;100 individuals)</li>
<li>Objective functions involving numerical integration or differential equations</li>
<li>
<p>Problems with many coordinate points</p>
</li>
<li>
<p><strong>When to use parallel computation</strong>: Parallel processing is most beneficial for computationally intensive objective functions or constraints, such as those involving complex simulations, numerical integrations, or when evaluating large populations. It's particularly effective when each individual evaluation takes significant time (&gt;0.01s).</p>
</li>
<li><strong>When NOT to use parallel computation</strong>: For simple and fast objective functions, the overhead of parallel processing may outweigh its benefits. If individual evaluations are very quick (&lt;0.001s), serial computation may be more efficient.</li>
<li><strong>Performance considerations</strong>: The speedup from parallel computation depends on the number of available CPU cores and the computational complexity of the objective functions. The overhead of parallelization becomes negligible as the complexity of objective functions increases.</li>
</ul>
</blockquote>
<p><strong>Example:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2</span><span class="w"> </span><span class="kn">import</span> <span class="n">Problem</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.spatial</span><span class="w"> </span><span class="kn">import</span> <span class="n">region_from_points</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="c1"># Define objective functions</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">obj1</span><span class="p">(</span><span class="n">coords</span><span class="p">):</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">coords</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">obj2</span><span class="p">(</span><span class="n">coords</span><span class="p">):</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">coords</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="c1"># Create a problem</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="n">region</span> <span class="o">=</span> <span class="n">region_from_points</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="n">problem</span> <span class="o">=</span> <span class="n">Problem</span><span class="p">(</span><span class="n">objectives</span><span class="o">=</span><span class="p">[</span><span class="n">obj1</span><span class="p">,</span> <span class="n">obj2</span><span class="p">],</span> <span class="n">n_points</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">)</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="c1"># Generate an initial population</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="n">population</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">sample_population</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Population shape: </span><span class="si">{</span><span class="n">population</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># (10, 5, 2)</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="c1"># Evaluate the population</span>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="n">values</span> <span class="o">=</span> <span class="n">problem</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">population</span><span class="p">)</span>  <span class="c1"># shape: (n_objectives, pop_size)</span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Objective 1 values: </span><span class="si">{</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Objective 2 values: </span><span class="si">{</span><span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h3 id="coordsnsga2">CoordsNSGA2<a class="headerlink" href="#coordsnsga2" title="Permanent link">&para;</a></h3>
<p>NSGA-II optimiser for coordinate problems.</p>
<p><strong>Constructor:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="n">CoordsNSGA2</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="n">pop_size</span><span class="p">,</span> <span class="n">prob_crs</span><span class="p">,</span> <span class="n">prob_mut</span><span class="p">,</span> <span class="n">random_seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>problem</code> (Problem): Problem instance.</li>
<li><code>pop_size</code> (int): Population size (must be even).</li>
<li><code>prob_crs</code> (float): Crossover probability in the range 0-1.</li>
<li><code>prob_mut</code> (float): Mutation probability in the range 0-1.</li>
<li><code>random_seed</code> (int, optional): Random seed. Default is 42.</li>
<li><code>n_jobs</code> (int, optional): Number of jobs for parallel computation. Default is 1 (serial computation). Set to -1 to use all available CPU cores, or any other value to specify the number of cores to use.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><code>P</code>: Current population, shape <code>(pop_size, n_points, 2)</code>.</li>
<li><code>values_P</code>: Objective values of the current population, shape <code>(n_objectives, pop_size)</code>.</li>
<li><code>P_history</code>: Population history.</li>
<li><code>values_history</code>: List of objective-value arrays per generation, each with shape <code>(n_objectives, pop_size)</code>.</li>
</ul>
<p><strong>Methods:</strong></p>
<h4 id="rungenerations-verbosetrue">run(generations, verbose=True)<a class="headerlink" href="#rungenerations-verbosetrue" title="Permanent link">&para;</a></h4>
<p>Run the optimization algorithm.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>generations</code> (int): Number of generations.</li>
<li><code>verbose</code> (bool, optional): Show progress bar if <code>True</code>. Default is <code>True</code>.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>numpy.ndarray</code>: Final population.</li>
</ul>
<h4 id="savepath">save(path)<a class="headerlink" href="#savepath" title="Permanent link">&para;</a></h4>
<p>Save the optimiser state to a pkl file.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>path</code> (str): File path to save to.s</li>
</ul>
<h4 id="loadpath">load(path)<a class="headerlink" href="#loadpath" title="Permanent link">&para;</a></h4>
<p>Load the optimiser state from a pkl file.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>path</code> (str): File path to load from.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2</span><span class="w"> </span><span class="kn">import</span> <span class="n">CoordsNSGA2</span><span class="p">,</span> <span class="n">Problem</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="c1"># Create an optimiser</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="n">optimizer</span> <span class="o">=</span> <span class="n">CoordsNSGA2</span><span class="p">(</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>    <span class="n">problem</span><span class="o">=</span><span class="n">problem</span><span class="p">,</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>    <span class="n">pop_size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>    <span class="n">prob_crs</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>    <span class="n">prob_mut</span><span class="o">=</span><span class="mf">0.1</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="p">)</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="c1"># Run optimisation</span>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="n">result</span> <span class="o">=</span> <span class="n">optimizer</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="c1"># Save results</span>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="n">optimizer</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;optimization_result.pkl&quot;</span><span class="p">)</span>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="c1"># Load results</span>
<a id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="n">optimizer</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;optimization_result.pkl&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="spatial-utilities">Spatial Utilities<a class="headerlink" href="#spatial-utilities" title="Permanent link">&para;</a></h2>
<h3 id="region_from_pointspoints">region_from_points(points)<a class="headerlink" href="#region_from_pointspoints" title="Permanent link">&para;</a></h3>
<p>Create a polygon region from a list of points.s</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>points</code> (list): List of points in the form <code>[[x1, y1], [x2, y2], ...]</code>.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>shapely.geometry.Polygon</code>: Shapely polygon object.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span>
<span class="normal"><a href="#__codelineno-4-5">5</a></span>
<span class="normal"><a href="#__codelineno-4-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.spatial</span><span class="w"> </span><span class="kn">import</span> <span class="n">region_from_points</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="c1"># Create a triangular region</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="n">points</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="n">region</span> <span class="o">=</span> <span class="n">region_from_points</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Area: </span><span class="si">{</span><span class="n">region</span><span class="o">.</span><span class="n">area</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h3 id="region_from_rangex_min-x_max-y_min-y_max">region_from_range(x_min, x_max, y_min, y_max)<a class="headerlink" href="#region_from_rangex_min-x_max-y_min-y_max" title="Permanent link">&para;</a></h3>
<p>Create a rectangular region from coordinate bounds.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>x_min</code> (float): Minimum x-coordinate.</li>
<li><code>x_max</code> (float): Maximum x-coordinate.</li>
<li><code>y_min</code> (float): Minimum y-coordinate.</li>
<li><code>y_max</code> (float): Maximum y-coordinate.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>shapely.geometry.Polygon</code>: Shapely rectangle object.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.spatial</span><span class="w"> </span><span class="kn">import</span> <span class="n">region_from_range</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="c1"># Create a rectangular region</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="n">region</span> <span class="o">=</span> <span class="n">region_from_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Bounds: </span><span class="si">{</span><span class="n">region</span><span class="o">.</span><span class="n">bounds</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h3 id="create_points_in_polygonpolygon-n">create_points_in_polygon(polygon, n)<a class="headerlink" href="#create_points_in_polygonpolygon-n" title="Permanent link">&para;</a></h3>
<p>Generate <code>n</code> random points inside a polygon.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>polygon</code> (shapely.geometry.Polygon): Target polygon.</li>
<li><code>n</code> (int): Number of points to generate.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>numpy.ndarray</code>: Array of coordinates with shape <code>(n, 2)</code>.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span>
<span class="normal"><a href="#__codelineno-6-6">6</a></span>
<span class="normal"><a href="#__codelineno-6-7">7</a></span>
<span class="normal"><a href="#__codelineno-6-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.spatial</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_points_in_polygon</span><span class="p">,</span> <span class="n">region_from_points</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="c1"># Create a region</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="n">region</span> <span class="o">=</span> <span class="n">region_from_points</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="c1"># Generate random points</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="n">points</span> <span class="o">=</span> <span class="n">create_points_in_polygon</span><span class="p">(</span><span class="n">region</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Generated points: </span><span class="si">{</span><span class="n">points</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="genetic-operators">Genetic Operators<a class="headerlink" href="#genetic-operators" title="Permanent link">&para;</a></h2>
<h3 id="coords_crossoverpopulation-prob_crs">coords_crossover(population, prob_crs)<a class="headerlink" href="#coords_crossoverpopulation-prob_crs" title="Permanent link">&para;</a></h3>
<p>Coordinate-specific crossover operator that exchanges subsets of points between parents.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>population</code> (numpy.ndarray): Population with shape <code>(pop_size, n_points, 2)</code>.</li>
<li><code>prob_crs</code> (float): Crossover probability.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>numpy.ndarray</code>: Population after crossover.</li>
</ul>
<p><strong>Algorithm:</strong></p>
<ul>
<li>For each parent pair, perform crossover with probability <code>prob_crs</code>.</li>
<li>Randomly select between 1 and <code>n_points-1</code> points to swap.</li>
<li>Population size remains unchanged.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span>
<span class="normal"><a href="#__codelineno-7-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.operators.crossover</span><span class="w"> </span><span class="kn">import</span> <span class="n">coords_crossover</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="c1"># Perform crossover</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="n">new_population</span> <span class="o">=</span> <span class="n">coords_crossover</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">prob_crs</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h3 id="coords_mutationpopulation-prob_mut-region">coords_mutation(population, prob_mut, region)<a class="headerlink" href="#coords_mutationpopulation-prob_mut-region" title="Permanent link">&para;</a></h3>
<p>Coordinate-specific mutation operator that relocates points randomly within the region.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>population</code> (numpy.ndarray): Population with shape <code>(pop_size, n_points, 2)</code>.</li>
<li><code>prob_mut</code> (float): Mutation probability.</li>
<li><code>region</code> (shapely.geometry.Polygon): Feasible region.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>numpy.ndarray</code>: Population after mutation.</li>
</ul>
<p><strong>Algorithm:</strong></p>
<ul>
<li>For each coordinate point, mutate with probability <code>prob_mut</code>.</li>
<li>During mutation, generate a new random position within the region.</li>
<li>Ensure mutated points remain inside the feasible region.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.operators.mutation</span><span class="w"> </span><span class="kn">import</span> <span class="n">coords_mutation</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="c1"># Perform mutation</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="n">new_population</span> <span class="o">=</span> <span class="n">coords_mutation</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">prob_mut</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h3 id="coords_selectionpopulation-values_p-tourn_size3">coords_selection(population, values_P, tourn_size=3)<a class="headerlink" href="#coords_selectionpopulation-values_p-tourn_size3" title="Permanent link">&para;</a></h3>
<p>Tournament selection based on non-dominated sorting and crowding distance.</p>
<p><strong>Parameters：</strong></p>
<ul>
<li><code>population</code> (numpy.ndarray): Population with shape <code>(pop_size, n_points, 2)</code>.</li>
<li><code>values_P</code> (numpy.ndarray): Objective values with shape <code>(n_objectives, pop_size)</code>.</li>
<li><code>tourn_size</code> (int, optional): Tournament size. Default is <code>3</code></li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>numpy.ndarray</code>: Selected population.</li>
</ul>
<p><strong>Algorithm:</strong></p>
<ul>
<li>Use fast non-dominated sorting to assign front ranks.</li>
<li>Compute crowding distance within each front.</li>
<li>Apply tournament selection, preferring individuals in lower fronts.</li>
<li>When ranks tie, choose individuals with larger crowding distance.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.operators.selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">coords_selection</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="c1"># Perform selection</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="n">selected_population</span> <span class="o">=</span> <span class="n">coords_selection</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">values_P</span><span class="p">,</span> <span class="n">tourn_size</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="utility-functions">Utility Functions<a class="headerlink" href="#utility-functions" title="Permanent link">&para;</a></h2>
<h3 id="fast_non_dominated_sortobjectives">fast_non_dominated_sort(objectives)<a class="headerlink" href="#fast_non_dominated_sortobjectives" title="Permanent link">&para;</a></h3>
<p>Fast non-dominated sorting algorithm.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>objectives</code> (numpy.ndarray): Objective values with shape <code>(n_objectives, pop_size)</code>.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>list</code>: List of fronts; each front contains the indices of individuals in that front.</li>
</ul>
<p><strong>Algorithm:</strong></p>
<ul>
<li>Count how many times each individual is dominated.</li>
<li>Record which individuals each one dominates.</li>
<li>Return indices grouped by front.</li>
<li>Sort individuals by front rank.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span>
<span class="normal"><a href="#__codelineno-10-6">6</a></span>
<span class="normal"><a href="#__codelineno-10-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">fast_non_dominated_sort</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="c1"># Perform non-dominated sorting</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="n">fronts</span> <span class="o">=</span> <span class="n">fast_non_dominated_sort</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of fronts: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">fronts</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">front</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">fronts</span><span class="p">):</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Front </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">front</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h3 id="crowding_distanceobjectives">crowding_distance(objectives)<a class="headerlink" href="#crowding_distanceobjectives" title="Permanent link">&para;</a></h3>
<p>Compute crowding distance.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>objectives</code> (numpy.ndarray): Objective values with shape <code>(n_objectives, pop_size)</code>.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>numpy.ndarray</code>: Array of crowding distances.</li>
</ul>
<p><strong>Algorithm</strong></p>
<ul>
<li>Sort individuals for each objective.</li>
<li>Set boundary points’ crowding distance to infinity.</li>
<li>For interior points, sum the normalised differences of adjacent objective values.</li>
<li>Return distances in the original order.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span>
<span class="normal"><a href="#__codelineno-11-3">3</a></span>
<span class="normal"><a href="#__codelineno-11-4">4</a></span>
<span class="normal"><a href="#__codelineno-11-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">crowding_distance</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="c1"># Compute crowding distance (pass a single front when needed)</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a><span class="n">distances</span> <span class="o">=</span> <span class="n">crowding_distance</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Crowding distances: </span><span class="si">{</span><span class="n">distances</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="complete-example">Complete Example<a class="headerlink" href="#complete-example" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-12-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-12-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-12-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-12-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-12-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-12-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-12-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-12-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-12-10">10</a></span>
<span class="normal"><a href="#__codelineno-12-11">11</a></span>
<span class="normal"><a href="#__codelineno-12-12">12</a></span>
<span class="normal"><a href="#__codelineno-12-13">13</a></span>
<span class="normal"><a href="#__codelineno-12-14">14</a></span>
<span class="normal"><a href="#__codelineno-12-15">15</a></span>
<span class="normal"><a href="#__codelineno-12-16">16</a></span>
<span class="normal"><a href="#__codelineno-12-17">17</a></span>
<span class="normal"><a href="#__codelineno-12-18">18</a></span>
<span class="normal"><a href="#__codelineno-12-19">19</a></span>
<span class="normal"><a href="#__codelineno-12-20">20</a></span>
<span class="normal"><a href="#__codelineno-12-21">21</a></span>
<span class="normal"><a href="#__codelineno-12-22">22</a></span>
<span class="normal"><a href="#__codelineno-12-23">23</a></span>
<span class="normal"><a href="#__codelineno-12-24">24</a></span>
<span class="normal"><a href="#__codelineno-12-25">25</a></span>
<span class="normal"><a href="#__codelineno-12-26">26</a></span>
<span class="normal"><a href="#__codelineno-12-27">27</a></span>
<span class="normal"><a href="#__codelineno-12-28">28</a></span>
<span class="normal"><a href="#__codelineno-12-29">29</a></span>
<span class="normal"><a href="#__codelineno-12-30">30</a></span>
<span class="normal"><a href="#__codelineno-12-31">31</a></span>
<span class="normal"><a href="#__codelineno-12-32">32</a></span>
<span class="normal"><a href="#__codelineno-12-33">33</a></span>
<span class="normal"><a href="#__codelineno-12-34">34</a></span>
<span class="normal"><a href="#__codelineno-12-35">35</a></span>
<span class="normal"><a href="#__codelineno-12-36">36</a></span>
<span class="normal"><a href="#__codelineno-12-37">37</a></span>
<span class="normal"><a href="#__codelineno-12-38">38</a></span>
<span class="normal"><a href="#__codelineno-12-39">39</a></span>
<span class="normal"><a href="#__codelineno-12-40">40</a></span>
<span class="normal"><a href="#__codelineno-12-41">41</a></span>
<span class="normal"><a href="#__codelineno-12-42">42</a></span>
<span class="normal"><a href="#__codelineno-12-43">43</a></span>
<span class="normal"><a href="#__codelineno-12-44">44</a></span>
<span class="normal"><a href="#__codelineno-12-45">45</a></span>
<span class="normal"><a href="#__codelineno-12-46">46</a></span>
<span class="normal"><a href="#__codelineno-12-47">47</a></span>
<span class="normal"><a href="#__codelineno-12-48">48</a></span>
<span class="normal"><a href="#__codelineno-12-49">49</a></span>
<span class="normal"><a href="#__codelineno-12-50">50</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.spatial</span><span class="w"> </span><span class="kn">import</span> <span class="n">distance</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2</span><span class="w"> </span><span class="kn">import</span> <span class="n">CoordsNSGA2</span><span class="p">,</span> <span class="n">Problem</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.spatial</span><span class="w"> </span><span class="kn">import</span> <span class="n">region_from_points</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">coords_nsga2.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">fast_non_dominated_sort</span><span class="p">,</span> <span class="n">crowding_distance</span>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="c1"># 1. Define the problem</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="k">def</span><span class="w"> </span><span class="nf">objective_1</span><span class="p">(</span><span class="n">coords</span><span class="p">):</span>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Maximise the sum of x coordinates&quot;&quot;&quot;</span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">coords</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a><span class="k">def</span><span class="w"> </span><span class="nf">objective_2</span><span class="p">(</span><span class="n">coords</span><span class="p">):</span>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Maximise the sum of y coordinates&quot;&quot;&quot;</span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a>    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">coords</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-12-15" name="__codelineno-12-15"></a>
<a id="__codelineno-12-16" name="__codelineno-12-16"></a><span class="k">def</span><span class="w"> </span><span class="nf">constraint</span><span class="p">(</span><span class="n">coords</span><span class="p">):</span>
<a id="__codelineno-12-17" name="__codelineno-12-17"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Minimum spacing constraint&quot;&quot;&quot;</span>
<a id="__codelineno-12-18" name="__codelineno-12-18"></a>    <span class="n">dist_list</span> <span class="o">=</span> <span class="n">distance</span><span class="o">.</span><span class="n">pdist</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>
<a id="__codelineno-12-19" name="__codelineno-12-19"></a>    <span class="n">penalty</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mf">0.1</span> <span class="o">-</span> <span class="n">dist_list</span><span class="p">[</span><span class="n">dist_list</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">])</span>
<a id="__codelineno-12-20" name="__codelineno-12-20"></a>    <span class="k">return</span> <span class="n">penalty</span>
<a id="__codelineno-12-21" name="__codelineno-12-21"></a>
<a id="__codelineno-12-22" name="__codelineno-12-22"></a><span class="c1"># 2. Create region and problem</span>
<a id="__codelineno-12-23" name="__codelineno-12-23"></a><span class="n">region</span> <span class="o">=</span> <span class="n">region_from_points</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<a id="__codelineno-12-24" name="__codelineno-12-24"></a><span class="n">problem</span> <span class="o">=</span> <span class="n">Problem</span><span class="p">(</span>
<a id="__codelineno-12-25" name="__codelineno-12-25"></a>    <span class="n">objectives</span><span class="o">=</span><span class="p">[</span><span class="n">objective_1</span><span class="p">,</span> <span class="n">objective_2</span><span class="p">],</span>
<a id="__codelineno-12-26" name="__codelineno-12-26"></a>    <span class="n">n_points</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-12-27" name="__codelineno-12-27"></a>    <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
<a id="__codelineno-12-28" name="__codelineno-12-28"></a>    <span class="n">constraints</span><span class="o">=</span><span class="p">[</span><span class="n">constraint</span><span class="p">]</span>
<a id="__codelineno-12-29" name="__codelineno-12-29"></a><span class="p">)</span>
<a id="__codelineno-12-30" name="__codelineno-12-30"></a>
<a id="__codelineno-12-31" name="__codelineno-12-31"></a><span class="c1"># 3. Create the optimiser</span>
<a id="__codelineno-12-32" name="__codelineno-12-32"></a><span class="n">optimizer</span> <span class="o">=</span> <span class="n">CoordsNSGA2</span><span class="p">(</span>
<a id="__codelineno-12-33" name="__codelineno-12-33"></a>    <span class="n">problem</span><span class="o">=</span><span class="n">problem</span><span class="p">,</span>
<a id="__codelineno-12-34" name="__codelineno-12-34"></a>    <span class="n">pop_size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
<a id="__codelineno-12-35" name="__codelineno-12-35"></a>    <span class="n">prob_crs</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<a id="__codelineno-12-36" name="__codelineno-12-36"></a>    <span class="n">prob_mut</span><span class="o">=</span><span class="mf">0.1</span>
<a id="__codelineno-12-37" name="__codelineno-12-37"></a><span class="p">)</span>
<a id="__codelineno-12-38" name="__codelineno-12-38"></a>
<a id="__codelineno-12-39" name="__codelineno-12-39"></a><span class="c1"># 4. Run optimisation</span>
<a id="__codelineno-12-40" name="__codelineno-12-40"></a><span class="n">result</span> <span class="o">=</span> <span class="n">optimizer</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<a id="__codelineno-12-41" name="__codelineno-12-41"></a>
<a id="__codelineno-12-42" name="__codelineno-12-42"></a><span class="c1"># 5. Analyse results</span>
<a id="__codelineno-12-43" name="__codelineno-12-43"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Final population shape: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-44" name="__codelineno-12-44"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Objective 1 values: </span><span class="si">{</span><span class="n">optimizer</span><span class="o">.</span><span class="n">values_P</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-45" name="__codelineno-12-45"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Objective 2 values: </span><span class="si">{</span><span class="n">optimizer</span><span class="o">.</span><span class="n">values_P</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-46" name="__codelineno-12-46"></a>
<a id="__codelineno-12-47" name="__codelineno-12-47"></a><span class="c1"># 6. Find the Pareto front</span>
<a id="__codelineno-12-48" name="__codelineno-12-48"></a><span class="n">fronts</span> <span class="o">=</span> <span class="n">fast_non_dominated_sort</span><span class="p">(</span><span class="n">optimizer</span><span class="o">.</span><span class="n">values_P</span><span class="p">)</span>
<a id="__codelineno-12-49" name="__codelineno-12-49"></a><span class="n">pareto_front</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">fronts</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>  <span class="c1"># The first front is the Pareto front</span>
<a id="__codelineno-12-50" name="__codelineno-12-50"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of Pareto-optimal solutions: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">pareto_front</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search.highlight", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>